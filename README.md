# 🎓 יום הבוגר בבויאר - מערכת רישום חכמה

מערכת רישום אינטראקטיבית ליום הבוגר של בית הספר בויאר, המשלבת צ'ט AI חכם עם רישום אוטומטי ל-Google Sheets.

## 📋 תיאור הפרויקט

**יום הבוגר** הוא אירוע מיוחד בבית הספר בויאר (23.10.2025) שבו בוגרים ובוגרות חוזרים לספר לתלמידים על המסע שלהם - מהלימודים בבויאר ועד לקריירה הנוכחית. המערכת מאפשרת רישום קל ונעים דרך שיחה טבעית עם AI.

## 🌟 תכונות עיקריות

### 💬 צ'ט AI חכם
- **שיחה טבעית** במקום טופס יבש
- **עזרה בעיצוב הנושא** - הסוכן עוזר לבוגרים לחדד את המסר שלהם
- **התאמה לקהל יעד** - הנחיה לבחירת גילאים מתאימים
- **סיכום ואישור** לפני רישום סופי

### 🔗 ניהול קישורים חכם
- **זיהוי אוטומטי** של קישורי ווטסאפ, תמונות ומספרי טלפון
- **ניקוי HTML שבור** שמגיע מ-n8n
- **כפתורים מעוצבים** לכל סוג קישור

### 📊 רישום אוטומטי
- **חיבור ישיר ל-Google Sheets** דרך n8n
- **בדיקת תקינות** של נתונים (אימייל, טלפון, שנת סיום)
- **מיפוי שדות מדויק** לגיליון

## 🏗️ ארכיטקטורה

```
┌─────────────────┐    ┌──────────────┐    ┌─────────────────┐
│   Frontend      │    │     n8n      │    │ Google Sheets   │
│   (HTML/CSS/JS) │◄──►│   Workflow   │◄──►│   Database      │
│                 │    │              │    │                 │
│ • Chat UI       │    │ • AI Agent   │    │ • Registration  │
│ • Link Handler  │    │ • OpenAI     │    │   Data          │
│ • HTML Cleanup  │    │ • Validation │    │                 │
└─────────────────┘    └──────────────┘    └─────────────────┘
```

## 📁 מבנה הפרויקט

### קבצים עיקריים
- **`index.html`** - דף הבית עם ממשק הצ'ט
- **`app.js`** - לוגיקת הצ'ט וטיפול בקישורים
- **`styles.css`** - עיצוב ותמות
- **`header.jpg`** - תמונת רקע

### קבצי תצורה ופרומפטים
- **`simple-prompt-for-n8n.txt`** - הפרומפט הסופי לסוכן ה-AI
- **`new-initial-message-for-n8n.txt`** - הודעת הפתיחה החמה
- **`n8n_workflow.json`** - תצורת ה-workflow ב-n8n

### קבצי בדיקה ופיתוח
- **`test-whatsapp-link.html`** - בדיקת קישורי ווטסאפ
- **`test-html-cleanup.html`** - בדיקת ניקוי HTML
- **`debug-chat.html`** - כלי דיבוג לצ'ט

## 🚀 התקנה והפעלה

### דרישות מוקדמות
- Python 3.x (לשרת מקומי)
- חשבון n8n עם workflow מוגדר
- גיליון Google Sheets מחובר

### הפעלה מקומית
```bash
# שכפול הפרויקט
git clone [repository-url]
cd boyar

# הפעלת שרת מקומי
python3 -m http.server 8000

# פתיחה בדפדפן
open http://localhost:8000
```

### הגדרת n8n
1. **ייבוא ה-workflow** מהקובץ `n8n_workflow.json`
2. **עדכון הפרומפט** מהקובץ `simple-prompt-for-n8n.txt`
3. **הגדרת הודעת פתיחה** מהקובץ `new-initial-message-for-n8n.txt`
4. **חיבור Google Sheets** עם העמודות הנדרשות

## 🎯 זרימת העבודה

### 1. פתיחה חמה
```
"היי! איזה כיף שהגעתם לכאן! 🎉
במה אתם עוסקים היום? איזה תחום?"
```

### 2. גילוי הסיפור
- שאלות על המסע מבויאר לקריירה הנוכחית
- עידוד לשיתוף אתגרים והצלחות
- הראיית עניין אמיתי

### 3. עיצוב הנושא
- חידוד המסר המרכזי
- בחירת קהל יעד (גילאים)
- התאמה לפורמט (כיתה/שכבה)

### 4. איסוף פרטים
- שם מלא, טלפון, אימייל
- שנת סיום, מקצוע נוכחי
- תיאור הנושא והערות

### 5. סיכום ואישור
```
📝 סיכום הפרטים:
- שם: [שם מלא]
- טלפון: [מספר טלפון]
- אימייל: [כתובת אימייל]
...
האם הכל נכון?
```

### 6. רישום וסיום
- רישום ל-Google Sheets
- הזמנה לקבוצת ווטסאפ
- הודעת תודה מעוררת השראה

## 🔧 תכונות טכניות מתקדמות

### ניקוי HTML שבור
```javascript
function cleanBrokenHTML(text) {
  // מטפל בתגי HTML שבורים שמגיעים מ-n8n
  text = text.replace(/target="_blank"\s*/g, '');
  text = text.replace(/rel="noopener\s*noreferrer"\s*/g, '');
  // ...
}
```

### זיהוי קישורים חכם
- **ווטסאפ**: `chat.whatsapp.com` → כפתור ירוק
- **תמונות**: `photos.google.com` → כפתור גלריה
- **טלפון**: זיהוי מספרים ישראליים
- **אימייל**: זיהוי כתובות אימייל

### בקרת תקינות
- **אימייל**: חייב להכיל @ ונקודה
- **טלפון**: 9-12 ספרות (עם/בלי +972)
- **שנת סיום**: 4 ספרות בלבד

## 📊 נתונים נאספים

| שדה | תיאור | דוגמה |
|-----|--------|--------|
| שם מלא | שם הבוגר/ת | "יוסי כהן" |
| מספר טלפון | לתיאום | "0501234567" |
| דואר אלקטרוני | לעדכונים | "yossi@example.com" |
| שנת סיום/מחזור | שנת גמר | "2015" |
| מקצוע נוכחי | תחום עבודה | "מהנדס תוכנה" |
| נושא השיחה | תיאור המסר | "מהנדסת תוכנה בהיי-טק" |
| קהל יעד | גילאים | "י׳-יב׳" |
| הערות | מידע נוסף | "מעדיף בוקר" |

## 🎨 עיצוב ונושא

### צבעים עיקריים
- **ירוק בויאר**: `#128b7b` (רקע)
- **ירוק כהה**: `#0b5f55` (כפתורים)
- **ירוק בהיר**: `#b3e6de` (בועות משתמש)
- **לבן**: `#ffffff` (בועות בוט)

### רספונסיביות
- תמיכה מלאה במובייל
- התאמה לכל גדלי מסך
- ממשק ידידותי למגע

## 🔄 עדכונים אחרונים

### גרסה 2.0 (אוגוסט 2025)
- ✅ **פרומפט משופר** - שיחה חמה ומעוררת השראה
- ✅ **סיכום ואישור** לפני רישום
- ✅ **ניקוי HTML שבור** מ-n8n
- ✅ **קישורי ווטסאפ מעוצבים**
- ✅ **הודעת פתיחה חדשה**
- ✅ **זיהוי קישורים משופר**

## 📞 קשר ותמיכה

- **רינה תורג'מן**: 0542122331
- **קבוצת ווטסאפ**: [הצטרפו לקבוצה](https://chat.whatsapp.com/CvzfnGC1zA14qHrbmkb8ki)
- **טופס רגיל**: [הרשמה בטופס](https://docs.google.com/forms/d/e/1FAIpQLSfozRUUoVhr2R07shWLouTc2WPaq-rmyEKejdUQM-P6Od-q9A/viewform)

## 📝 רישיון

פרויקט זה פותח עבור בית הספר בויאר ומיועד לשימוש פנימי בלבד.

---

**"נותנים השראה לדור הבא"** 🎓✨